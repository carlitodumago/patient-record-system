/* Dark mode form element overrides - highest specificity */

/* Enhanced input styling */
.dark-mode input[type="text"],
.dark-mode input[type="email"],
.dark-mode input[type="tel"],
.dark-mode input[type="number"],
.dark-mode input[type="date"],
.dark-mode input[type="password"] {
  background-color: #2a2a2a !important;
  color: #ffffff !important;
  border-color: rgba(255, 255, 255, 0.2) !important;
}

/* Notes and textarea specific styling */
.dark-mode textarea,
.dark-mode [aria-label="notes"],
.dark-mode .notes-field,
.dark-mode [contenteditable="true"] {
  background-color: #1e1e1e !important;
  color: #ffffff !important;
  caret-color: #ffffff !important;
  border: 1px solid rgba(255, 255, 255, 0.3) !important;
  padding: 10px !important;
}

/* Ultra-high contrast for text areas and contenteditable */
html.dark-mode textarea, 
html.dark-mode [contenteditable],
body.dark-mode textarea,
body.dark-mode [contenteditable],
.dark-mode div[role="textbox"],
.dark-mode textarea,
.dark-mode [contenteditable="true"],
.dark-mode [aria-label*="note"] {
  background-color: #333 !important;
  color: white !important;
  border: 2px solid rgba(255, 255, 255, 0.4) !important;
}

/* Fix specifically for the Notes textarea in PatientForm */
.dark-mode textarea.notes, 
.dark-mode div.notes, 
.dark-mode input.notes,
.dark-mode .card textarea,
.dark-mode .patient-form textarea,
.dark-mode [placeholder*="inject"],
.dark-mode textarea[placeholder*="vacc"],
.dark-mode .patient-form [contenteditable], 
.dark-mode .patient-form [contenteditable="true"] {
  background-color: #ffffff !important; 
  color: #000000 !important;
  font-weight: normal !important;
  border-color: #666666 !important;
  border-width: 1px !important;
  text-shadow: none !important;
}

/* Light background for notes text */
.dark-mode [class*="notes"],
.dark-mode *[class*="notes"] p,
.dark-mode *[class*="note"] span,
.dark-mode p[class*="notes"],
.dark-mode div[class*="notes"],
.dark-mode .notes-container {
  background-color: rgba(255, 255, 255, 0.9) !important;
  color: #121212 !important;
  padding: 8px !important;
  border-radius: 4px !important;
  font-weight: normal !important;
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.2) !important;
}

/* Fix for placeholder opacity */
.dark-mode ::placeholder {
  color: rgba(200, 200, 200, 0.9) !important;
  opacity: 1 !important;
}

/* Dropdown styling for better visibility */
.dark-mode select, 
.dark-mode .form-select {
  background-color: #2a2a2a !important;
  color: white !important;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23ffffff' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e") !important;
  border: 1px solid rgba(255, 255, 255, 0.3) !important;
}

/* Focus states */
.dark-mode input:focus,
.dark-mode textarea:focus,
.dark-mode select:focus {
  outline: none !important;
  border-color: #4361ee !important;
  box-shadow: 0 0 0 2px rgba(67, 97, 238, 0.3) !important;
  background-color: rgba(255, 255, 255, 0.05) !important;
}

/* 
 * Dark mode specific fixes and overrides
 */

/* Fix for dark mode form elements */
.dark-mode input[type="date"],
.dark-mode input[type="time"],
.dark-mode input[type="datetime-local"] {
  color-scheme: dark;
}

/* Fix for dark mode scrollbars */
.dark-mode ::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
}

.dark-mode ::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
}

.dark-mode ::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* Better contrast for links in dark mode */
.dark-mode a:not(.btn) {
  color: #80b3ff;
}

.dark-mode a:hover:not(.btn) {
  color: #a3c8ff;
}

/* Fix dark mode modal backgrounds */
.dark-mode .modal-content {
  background-color: #252525;
  color: white;
}

.dark-mode .modal-header,
.dark-mode .modal-footer {
  border-color: rgba(255, 255, 255, 0.1);
}

/* Fix dropdown menu in dark mode */
.dark-mode .dropdown-menu {
  background-color: #2a2a2a;
  border-color: rgba(255, 255, 255, 0.15);
}

.dark-mode .dropdown-item {
  color: #e0e0e0;
}

.dark-mode .dropdown-item:hover,
.dark-mode .dropdown-item:focus {
  background-color: rgba(255, 255, 255, 0.1);
  color: white;
}

/* Fix table styles in dark mode */
.dark-mode .table {
  color: #e0e0e0;
}

.dark-mode .table-striped tbody tr:nth-of-type(odd) {
  background-color: rgba(255, 255, 255, 0.05);
}

.dark-mode .table-hover tbody tr:hover {
  background-color: rgba(255, 255, 255, 0.075);
}

.dark-mode .table th,
.dark-mode .table td {
  border-top-color: rgba(255, 255, 255, 0.15);
}

.dark-mode .table thead th {
  border-bottom-color: rgba(255, 255, 255, 0.15);
} 